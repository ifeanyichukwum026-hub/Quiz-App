<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WAEC CBT Quiz</title>
  <style>
      /* Reset default */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f0f4f8;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.quiz-container {
  width: 95%;
  max-width: 450px;
}

/* PROGRESS BAR */
.progress-wrapper {
  width: 100%;
  background-color: #ddd;
  border-radius: 5px;
  margin-bottom: 10px;
  height: 12px;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background-color: #1d72b8;
  border-radius: 5px;
  transition: width 0.3s ease;
}

header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  font-weight: bold;
  font-size: 14px;
  padding: 0 5px;
}

.quiz-box {
  background-color: #fff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

h2 {
  margin-bottom: 20px;
  font-size: 18px;
  line-height: 1.4;
}

.options label {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.2s;
}

.options label:hover {
  background-color: #f9f9f9;
}

.options input {
  margin-right: 10px;
}

.correct {
  color: green;
  font-weight: bold;
}

.wrong {
  color: red;
  font-weight: bold;
}

.icon {
  margin-left: auto;
  font-weight: bold;
  font-size: 18px;
}

.buttons {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
}

button {
  padding: 10px 15px;
  border: none;
  border-radius: 6px;
  background-color: #1d72b8;
  color: white;
  cursor: pointer;
  transition: 0.2s;
}

button:hover {
  background-color: #155a8a;
}

#result {
  margin-top: 15px;
  font-size: 16px;
  font-weight: bold;
  text-align: center;
}

/* Mobile responsiveness */
@media (max-width: 400px) {
  h2 {
    font-size: 16px;
  }

  button {
    font-size: 14px;
    padding: 8px 12px;
  }
}
  </style>
</head>
<body>
  <div class="quiz-container">
    
    <!-- Progress Bar -->
    <div class="progress-wrapper">
      <div class="progress-bar" id="progress-bar"></div>
    </div>

    <header>
      <div id="numbering">Question 1 of 10</div>
      <div id="timer">Time: 10s</div>
    </header>

    <div class="quiz-box">
      <h2 id="question"></h2>

      <div class="options">
        <label>
          <input type="radio" name="answer" value="0">
          <span id="opt0"></span>
          <span class="icon" id="icon0"></span>
        </label>

        <label>
          <input type="radio" name="answer" value="1">
          <span id="opt1"></span>
          <span class="icon" id="icon1"></span>
        </label>

        <label>
          <input type="radio" name="answer" value="2">
          <span id="opt2"></span>
          <span class="icon" id="icon2"></span>
        </label>

        <label>
          <input type="radio" name="answer" value="3">
          <span id="opt3"></span>
          <span class="icon" id="icon3"></span>
        </label>
      </div>

      <div class="buttons">
        <button id="submitBtn">Submit Answer</button>
        <button id="nextBtn" style="display:none;">Next Question</button>
      </div>

      <p id="result"></p>
    </div>
  </div>

  <script>
      // QUESTIONS ARRAY
let questions = [
  { question: "What is the capital of Nigeria?", options: ["Lagos", "Abuja", "Ibadan", "Enugu"], correct: "Abuja" },
  { question: "5 × 6 = ?", options: ["11", "20", "30", "60"], correct: "30" },
  { question: "Which planet is known as the Red Planet?", options: ["Earth", "Mars", "Jupiter", "Venus"], correct: "Mars" },
  { question: "Water boils at what temperature?", options: ["50°C", "75°C", "100°C", "150°C"], correct: "100°C" },
  { question: "Who is the first president of Nigeria?", options: ["Nnamdi Azikiwe", "Obafemi Awolowo", "Yakubu Gowon", "Olusegun Obasanjo"], correct: "Nnamdi Azikiwe" },
  { question: "The largest ocean on Earth is?", options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Arctic Ocean"], correct: "Pacific Ocean" },
  { question: "What gas do humans breathe in to survive?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Hydrogen"], correct: "Oxygen" },
  { question: "What is H2O commonly known as?", options: ["Salt", "Water", "Oxygen", "Hydrogen"], correct: "Water" },
  { question: "Which continent is Nigeria located in?", options: ["Asia", "Europe", "Africa", "South America"], correct: "Africa" },
  { question: "2 + 2 × 2 = ?", options: ["6", "8", "4", "2"], correct: "6" }
];

questions.sort(() => Math.random() - 0.5);

let currentQuestion = 0;
let score = 0;
let timeLeft = 10;
let timer;
let answered = false;
let currentOptions = [];
let userAnswers = [];

let correctSound = new Audio("sounds/correct.mp3");
let wrongSound = new Audio("sounds/wrong.mp3");

// LOAD QUESTION
function loadQuestion() {
  answered = false;
  document.getElementById("result").innerText = "";
  document.getElementById("nextBtn").style.display = "none";
  document.getElementById("submitBtn").style.display = "inline";

  for (let i = 0; i < 4; i++) {
    document.getElementById("opt" + i).classList.remove("correct", "wrong");
    document.getElementById("icon" + i).innerText = "";
  }

  document.querySelectorAll('input[name="answer"]').forEach(radio => {
    radio.checked = false;
    radio.disabled = false;
  });

  let q = questions[currentQuestion];
  document.getElementById("numbering").innerText = `Question ${currentQuestion + 1} of ${questions.length}`;
  document.getElementById("question").innerText = q.question;

  currentOptions = [...q.options];
  currentOptions.sort(() => Math.random() - 0.5);

  currentOptions.forEach((opt, index) => {
    document.getElementById("opt" + index).innerText = opt;
  });

  updateProgressBar();

  startTimer();
}

// UPDATE PROGRESS BAR
function updateProgressBar() {
  let progress = ((currentQuestion) / questions.length) * 100;
  document.getElementById("progress-bar").style.width = `${progress}%`;
}

// TIMER
function startTimer() {
  timeLeft = 10;
  document.getElementById("timer").innerText = `Time: ${timeLeft}s`;

  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = `Time: ${timeLeft}s`;

    if (timeLeft === 0) {
      clearInterval(timer);
      submitAnswer(true);
    }
  }, 1000);
}

// SUBMIT ANSWER
function submitAnswer(auto = false) {
  if (answered) return;
  answered = true;
  clearInterval(timer);

  document.getElementById("submitBtn").style.display = "none";

  let radios = document.querySelectorAll('input[name="answer"]');
  let selected = document.querySelector('input[name="answer"]:checked');

  radios.forEach(radio => radio.disabled = true);

  radios.forEach((radio, index) => {
    if (currentOptions[index] === questions[currentQuestion].correct) {
      document.getElementById("opt" + index).classList.add("correct");
      document.getElementById("icon" + index).innerText = "✔";
    }
  });

  let userAnswerText = selected ? currentOptions[Number(selected.value)] : null;
  userAnswers.push(userAnswerText);

  if (!selected) {
    document.getElementById("result").innerText = "Time up!";
    wrongSound.play();
  } else if (userAnswerText === questions[currentQuestion].correct) {
    document.getElementById("result").innerText = "Correct!";
    correctSound.play();
    score++;
  } else {
    document.getElementById("result").innerText = "Wrong!";
    document.getElementById("opt" + selected.value).classList.add("wrong");
    document.getElementById("icon" + selected.value).innerText = "✖";
    wrongSound.play();
  }

  document.getElementById("nextBtn").style.display = "inline";
}

// NEXT QUESTION
function nextQuestion() {
  currentQuestion++;
  if (currentQuestion < questions.length) {
    loadQuestion();
  } else {
    showReviewPage();
  }
}

// SHOW REVIEW PAGE
function showReviewPage() {
  let pass = (score / questions.length) >= 0.5 ? "Pass" : "Fail";
  let html = `<div class="quiz-box">
                <h2>Quiz Finished - You ${pass}</h2>
                <p>Your score: ${score} / ${questions.length}</p>
                <hr>`;

  questions.forEach((q, i) => {
    let userAnswer = userAnswers[i] ? userAnswers[i] : "No Answer";
    let correctAnswer = q.correct;
    let icon = userAnswer === correctAnswer ? "✔" : "✖";
    html += `<div class="review-question">
               <p><strong>Q${i + 1}:</strong> ${q.question}</p>
               <p>Your answer: ${userAnswer} ${icon}</p>
               <p>Correct answer: ${correctAnswer}</p>
             </div><hr>`;
  });

  html += `</div>`;
  document.querySelector(".quiz-container").innerHTML = html;
}

// BUTTON EVENTS
document.getElementById("submitBtn").onclick = () => submitAnswer(false);
document.getElementById("nextBtn").onclick = nextQuestion;

// START QUIZ
loadQuestion();
  </script>
</body>
</html>